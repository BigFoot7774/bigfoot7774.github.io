<section id="myblog-main-section">
    <img class="loading-img" src="https://xasquatch.net/4_img/icon/loading.gif" onload="
        var mainSection = document.querySelector('#myblog-main-section');
        var childNodes = mainSection.childNodes;
        for (var childNode of childNodes) {
            if (childNode.id === 'board-list-section'){
                document.querySelector('.loading-img').remove();
                return;
            }
        }
        myAjax.submit('GET','https://myblog.xasquatch.net/api/members/8/boards?keyword=project',function(data) {

          var mainSection = document.querySelector('#myblog-main-section');
          var calledData = JSON.parse(data).data;
          var boardList = calledData.boardList;
          var pageBlockList = calledData.pageBlockList;

          var boardListSection = document.createElement('section');
          boardListSection.id = 'board-list-section';
          for (var board of boardList) {
              var boardSection = document.createElement('a');
              var boardThumbnailDiv = document.createElement('div');
              boardThumbnailDiv.innerHTML = board.thumbnail;
              var boardTitle = document.createElement('p');
              boardTitle.innerHTML = board.title;

              boardSection.appendChild(boardThumbnailDiv);
              boardSection.appendChild(boardTitle);
              boardSection.setAttribute('href','https://myblog.xasquatch.net/api/members/8/boards/'+ board.no);
              boardSection.setAttribute('onclick', 'projectJs.boardClickEventManagement(e)');

              boardListSection.appendChild(boardSection);

          }

          var pageBlockSection = document.createElement('section');
          pageBlockSection.id = 'page-block-section';
          for(var i = 0; i < pageBlockList.length; i++) {
              pageBlockSection.innerHTML += pageBlockList[i];

          }


          mainSection.appendChild(boardListSection);
          mainSection.appendChild(pageBlockSection);
          if (window.location.href !== 'https://xasquatch.net')
          window.history.replaceState(mainSection.innerHTML, null, 'https://xasquatch.net');

          document.querySelector('.loading-img').remove();
        })
">

</section>
