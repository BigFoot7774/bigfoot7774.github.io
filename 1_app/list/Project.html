<section id="myblog-main-section">
    <img class="loading-img" src="https://xasquatch.net/4_img/icon/loading.gif" onload="
        myAjax.submit('GET','https://myblog.xasquatch.net/api/members/8/boards?keyword=project',function(data) {

          var mainSection = document.querySelector('#myblog-main-section');
          var calledData = JSON.parse(data).data;
          var boardList = calledData.boardList;
          var pageBlockList = calledData.pageBlockList;

          var boardListSection = document.createElement('section');
          boardListSection.id = 'board-list-section';
          for (var board of boardList) {
              var boardSection = document.createElement('a');
              var boardThumbnailDiv = document.createElement('div');
              boardThumbnailDiv.innerHTML = board.thumbnail;
              var boardTitle = document.createElement('p');
              boardTitle.innerHTML = board.title;

              boardSection.appendChild(boardThumbnailDiv);
              boardSection.appendChild(boardTitle);
              boardSection.setAttribute('href','https://myblog.xasquatch.net/api/members/8/boards/'+ board.no);
              boardSection.addEventListener('click', function(e) {
                  e.preventDefault();
                  window.history.replaceState(mainSection.innerHTML, null, window.location.href);
                  navjs.active('now loading...', this.querySelector('p').innerText);

                  myAjax.submit('GET', this.href, function(data) {
                      var boardInfo = JSON.parse(data).data.board;

                      function a(boardInfo){
                          console.log(JSON.stringify(boardInfo,null,2));

                          var mainFieldset = document.createElement('fieldset');
                          mainFieldset.style.margin = '5px';
                          var titleLegend = document.createElement('legend');
                          titleLegend.style.fontSize = '50px';
                          titleLegend.style.fontWeight = 'bold';
                          titleLegend.innerText = boardInfo.title;
                          mainFieldset.appendChild(titleLegend);

                          var nameFiledSet = document.createElement('fieldset');
                          var nameLegend = document.createElement('legend');
                          nameLegend.innerText = 'Nick Name';
                          var nameValue = document.createElement('p');
                          nameValue.innerHTML = boardInfo.mbr_nickname;
                          nameFiledSet.appendChild(nameLegend);
                          nameFiledSet.appendChild(nameValue);

                          var dateFiledSet = document.createElement('fieldset');
                          var dateLegend = document.createElement('legend');
                          dateLegend.innerText = 'Created Date';
                          var dateValue = document.createElement('p');
                          dateValue.innerHTML = boardInfo.created_date;
                          dateFiledSet.appendChild(dateLegend);
                          dateFiledSet.appendChild(dateValue);

                          var contentsFieldset = document.createElement('fieldset');
                          var contentsLegend = document.createElement('legend');
                          contentsLegend.innerText = 'Contents'
                          var contentsDiv = document.createElement('div');
                          contentsDiv.innerHTML = boardInfo.contents;
                          contentsFieldset.appendChild(contentsLegend);
                          contentsFieldset.appendChild(contentsDiv);

                          var backDiv = document.createElement('div');
                          backDiv.style.padding = '20px';
                          backDiv.style.textAlign = 'center';
                          var backBtn = document.createElement('button');
                          backBtn.setAttribute('onclick', 'history.back();');
                          backBtn.innerHTML = 'BACK';
                          backDiv.appendChild(backBtn);

                          mainFieldset.appendChild(nameFiledSet);
                          mainFieldset.appendChild(dateFiledSet);
                          mainFieldset.appendChild(contentsFieldset);
                          mainFieldset.appendChild(backDiv);

                          var mainSection = document.querySelector('#myblog-main-section');
                          mainSection.innerHTML = '';
                          mainSection.appendChild(mainFieldset);
                          window.history.pushState(mainSection.innerHTML, null,'/members/8/boards/'+boardInfo.no);

                      }
                      a(boardInfo);

                      function b(){
                          window.onpopstate = function (e) {
                              if (e.state !== null) {
                                  document.querySelector('#myblog-main-section').innerHTML = e.state;
                              }

                          }

                      }
                        b();
                      navjs.inactive();
                  });


              })


              boardListSection.appendChild(boardSection);

          }






          var pageBlockSection = document.createElement('section');
          pageBlockSection.id = 'page-block-section';
          for(var i = 0; i < pageBlockList.length; i++) {
              pageBlockSection.innerHTML += pageBlockList[i];

          }


          mainSection.appendChild(boardListSection);
          mainSection.appendChild(pageBlockSection);
          document.querySelector('.loading-img').remove();

        })
">

</section>